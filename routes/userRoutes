const express = require('express');
const userRouter = express.Router();
const userController = require('../controller/userController');
const authMiddleware = require("./authMiddleware")
//admin side
userRouter.get('/getUsers', authMiddleware.authenticate, userController.getUsers);
userRouter.get('/getUserById/:id', authMiddleware.authenticate, userController.getUserById);
userRouter.post('/signUp', userController.postSignUp);
userRouter.post('/login',userController.postLogin);
userRouter.post('/addProduct',authMiddleware.authenticate, userController.postAddProduct);
userRouter.get('/getProducts',authMiddleware.authenticate, userController.getProducts);
userRouter.get('/getProductById/:id',authMiddleware.authenticate, userController.getProductById);
userRouter.post('/updateProduct/:id',authMiddleware.authenticate,userController.updateProduct);
userRouter.delete('/deleteProduct/:id',authMiddleware.authenticate, userController.deleteProduct);
userRouter.get('/filteredProducts',authMiddleware.authenticate, userController.getFilteredProducts);
userRouter.patch('/updateStock/:id',authMiddleware.authenticate,userController.updateStock)
userRouter.patch('/updatePrice/:id',authMiddleware.authenticate, userController.updatePrice)
userRouter.get('/getLowStockProducts',authMiddleware.authenticate, userController.getLowStockProducts);
userRouter.get('/viewOrders',authMiddleware.authenticate, userController.viewOrders);
userRouter.post('/updateOrderStatus/:id',authMiddleware.authenticate, userController.updateOrderStatus);
userRouter.get('/getReturnRequests',authMiddleware.authenticate,userController.getReturnRequests);
userRouter.post('/manageReturnRequest/:id',authMiddleware.authenticate, userController.manageReturnRequest);
userRouter.post('/getOrdersByTimePeriod',authMiddleware.authenticate, userController.getOrdersByTimePeriod);
userRouter.post('/addToSales/:id',authMiddleware.authenticate, userController.addToSale);

//customer side
userRouter.get('/viewYourProfile/:id',userController.viewYourProfile);
userRouter.get('/viewProducts',userController.viewProducts);
userRouter.get('/detailsOfProduct/:id',userController.detailsOfProduct);
userRouter.get('/viewProductReviews/:id',userController.viewProductReviews);
userRouter.post('/sendReview/:id',userController.sendReview);
userRouter.post('/placeOrder',userController.placeOrder);
userRouter.post('/postSubscribe', userController.postSubscribe);
module.exports = userRouter;